function formToJSON(form){let obj={},elements=form.querySelectorAll("input, select, textarea");for(let i=0;i<elements.length;++i){let element=elements[i],type=element.type,name=element.name,value=element.value;name&&value&&"submit"!=type&&("checkbox"==type&&element.checked||"checkbox"!=type)&&(obj[name]=value)}return JSON.stringify(obj)}let socket=io("http://localhost:8080"),Results=document.getElementById("Results"),Form=document.getElementById("adminform");Form.addEventListener("submit",e=>{e.preventDefault(),Results.innerHTML="";let data=formToJSON(Form);socket.emit("action",data)}),socket.on("TaskProgress",data=>{let FolderProgress=document.getElementById(data.folder);if(!FolderProgress){let Container=document.createElement("div");Container.setAttribute("id",data.folder),Container.setAttribute("class","ingestion"),Container.innerHTML='<h2></h2>\n\t\t\t\t<h3>FileSystem</h3>\n\t\t\t\t<div class="FileSystem">\n\t\t\t\t\t<p></p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<progress value="0" max="100"></progress>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<h3>Accessories</h3>\n\t\t\t\t<div class="Accessories">\n\t\t\t\t\t<p></p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<progress value="0" max="100"></progress>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t<h3>Charts</h3>\n\t\t\t\t<div class="Charts">\n\t\t\t\t\t<p></p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<progress value="0" max="100"></progress>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t</p>\n\t\t\t\t</div>',Results.appendChild(Container),FolderProgress=document.getElementById(data.folder)}if("Init"!=data.Type){let Advancement=FolderProgress.querySelector("."+data.Type+" progress"),Percentage=FolderProgress.querySelector("."+data.Type+" span"),Title=FolderProgress.querySelector("."+data.Type+" p:first-child");Advancement.setAttribute("value",data.percentage),Percentage.innerHTML=data.percentage+"%",Title.innerHTML=data.description}else FolderProgress.querySelector("h2").innerHTML=data.description}),socket.on("fromServer",data=>{console.log(data)});